<html>
	<head>
		<title>json test</title>
<script>
var sendObj = function(url,json_obj,res){
    var http = new XMLHttpRequest();
    //var url = "get_data";
    var string_obj=JSON.stringify(json_obj);
    http.open("POST", url, true);
    http.setRequestHeader("Content-type", "application/json");
    http.setRequestHeader("Content-length", obj.length);
    http.setRequestHeader("Connection", "close");
    http.onreadystatechange = function() {//Call a function when the state changes.
        if(http.readyState == 4 && http.status == 200) {
            res(http.responseText);
        }
    }
    http.send(string_obj);
}
    var responseData=function(string_obj){
        var obj
        
    }

    
function sendRequest(){
   var http = new XMLHttpRequest();
   var url = "get_data";
    var params = {"name":"bartek","id":"hg"};//wysyłamy tylko coś pzy pomocy ...
   var obj=JSON.stringify(params);
   var param ="bartek"
http.open("POST", url, true);

//Send the proper header information along with the request
http.setRequestHeader("Content-type", "application/json");
http.setRequestHeader("Content-length", obj.length);
http.setRequestHeader("Connection", "close");

http.onreadystatechange = function() {//Call a function when the state changes.
    if(http.readyState == 4 && http.status == 200) {
        console.log(http.responseText);
    }
}
http.send(obj);
}
    


</script>
    </head>
    <body>
         <button onclick="sendRequest()">creates request</button>     
    </body>
</html>
